<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Darkest Night</title>
    
    
    <link rel="preload" href="assets/backgrounds/menu_background.png" as="image">
    <link rel="preload" href="assets/backgrounds/background.png" as="image">
    <link rel="preload" href="assets/player/player_right.png" as="image">
    <link rel="preload" href="assets/buildings/tower.png" as="image">
    
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <h1 class="loading-title">Darkest Night</h1>
            <div class="loading-spinner"></div>
            <p class="loading-text">Loading game assets...</p>
        </div>
    </div>

    
    <h1 class="game-title">Darkest Night</h1>
    
   
    <div class="game-section">
        
        <div class="game-container">
            <canvas id="gameCanvas" width="900" height="500"></canvas>
            
            
            <div class="game-over-screen" id="gameOverScreen">
                <div class="game-over-title">TOWER DESTROYED</div>
                <div class="final-stats">
                    <div>Wave Reached: <span id="finalWave">0</span></div>
                    <div>Enemies Defeated: <span id="finalKills">0</span></div>
                    <div>IRYS Collected: <span id="finalIrys">0</span></div>
                </div>
                <div class="button-container">
                    <button class="restart-btn" onclick="restartGame()">RESTART</button>
                </div>
            </div>
        </div>

        
        <div class="ui-panel">
            <div class="stat-item">
                <div class="stat-value" id="towerHealth">100</div>
                <div class="stat-label">Tower Health</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="currentWave">1</div>
                <div class="stat-label">Wave</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="enemiesLeft">5</div>
                <div class="stat-label">Enemies Left</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="irysCount">0</div>
                <div class="stat-label">IRYS Crystals</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="playerAmmo">âˆž</div>
                <div class="stat-label">Player Ammo</div>
            </div>
        </div>

        
        <div class="controls">
            <div class="button-container">
                <button class="start-btn enabled" onclick="startGame()" id="startBtn">
                    START GAME
                </button>
                
                <div class="menu-buttons">
                    <button class="game-btn" onclick="toggleAudio()" id="audioBtn">ðŸ”Š Audio: ON</button>
                </div>
            </div>
            
            <div class="control-item">
                <strong>Controls:</strong> Click anywhere to shoot â€¢ Protect the IRYS Tower
            </div>
        </div>
    </div>

    <div class="developer-credit">
        by WestSide
    </div>

    
    <script src="js/config.js"></script>
    <script src="js/classes.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/game.js"></script>
    
    <script>
        
        function hideLoadingScreen() {
            const loadingScreen = document.getElementById('loading-screen');
            if (loadingScreen) {
                loadingScreen.style.opacity = '0';
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                }, 500);
            }
        }

        function updateLoadingText(text) {
            const loadingText = document.querySelector('.loading-text');
            if (loadingText) {
                loadingText.textContent = text;
            }
        }

        // INITIALIZATION
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize loading sequence
            updateLoadingText('Loading...');
            
            // Hide loading screen after assets are ready
            setTimeout(() => {
                hideLoadingScreen();
                console.log('âœ… Game ready');
            }, 2000);

            console.log('âœ… Game initialized');
        });
    </script>
</body>
</html>
